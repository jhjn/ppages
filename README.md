`ppages` is an extremely minimal and customisable static site generator making use of the [pp preprocessor](https://github.com/jhjn/pp). Filenames and extensions describe templates and their inputs, output as html (see [docs](#Documentation).

### Getting Started
Three simple commands to try out a `ppages` website (served with whatever http server): 
```
ppages init
ppages build
caddy file-server #(or python3 -m http.server 80)
```
Then, go to your brower and navigate to <http://localhost>.
To ship off to your configured (see generated `config` file) remote:
```
ppages deploy
```
wraps `rsync` for your site repository.


## Install
Clone the repo and add the script to your user path.
```
git clone <this repo>
cp ./ppages/ppages /usr/local/bin/ppages
```

### Dependencies

* [pp](https://github.com/jhjn/pp)
* [fd-find](https://github.com/sharkdp/fd)
* [for example template] [cmark](https://github.com/commonmark/cmark)
* [for deploying to remote] [rsync](https://rsync.samba.org/download.html)

## Documentation

* Templates are files named `*.template.html`. They can be in any directory.
* A template named `blog.template.html` defines a template type "blog".
* An input file is named `*.<type>.md`, e.g. `about.page.md` matches template type "page".
* `pp` is run on each template, for each (found) matching input file, setting the `INPUT_FILE` variable to their path.
* File `a.b.md` is output as `a.html`

For `foo.template.html`:
```html
<head>
<title>Jenne</title>
</head>
!! markdown $INPUT_FILE  # Checkout 'pp' for this syntax
```
and `index.foo.md`:
```md
# Homepage
Welcome!
```
the result is the following page:
```html
<head>
<title>Jenne</title>
</head>
<h1>Homepage</h1>
<p>Welcome to my site!</p>
```
generated by discovering the template (type "foo"), searching for all matching input files (here "index.foo.md"), and preprocessing the template with `INCLUDE_FILE=./index.foo.md`. See `ppages init` for an example setup.

